# geoip-manager
Проект на php "Гео-проверка IP-адресов"

Описание проекта

Определение страны и города по IP адресу из базы на своём хостинге или сервере.
Определение IP v4 и IPv6 
готовые базы с диапазоном стран и городов уже есть - maxmind (GeoLite2)
База бесплатная, обновляемая, поэтому, что бы без проблем можно было обновлять в ручном режиме на хостинге или сервере.
Есть манул, как обновить её на своём хостинге. 

Пользователь загружает свой список IP адресов для проверки на принадлежность к стране и городу.
После загрузки идёт определение и выдаётся информация.
После полной проверки становятся активными кнопки "Скопировать IP:PORT" и др. подробнее далее по тексту.

Мультиязычность для пользователей. 
Мультиязычность для администратора, с возможностью оставлять сообщения в верхнем блоке.

Админ в настройках может:
Создать информационный блок который будет отображаться у пользователя, на разных языка.
Необходимо, что бы была поддержка html тэгов. Возможность сохранять для разных языков свои записи.

Создавать как одного пользователя так и генерировать определённое количество Аккаунтов.
Login:
Pass:
Tariff: Время доступа (по умолчанию стоит Выбрать) и при клике можно выбрать: Дней, часов, минут)

Для активации аккаунта:
1. Зайдите на страницу: example.com
2. Введите логин и пароль полученный при покупке, активируйте аккаунт.
-Текстовое поле для примечания.

Экспорт созданных аккаунтов в csv. (Примечание если оно есть, так же должно экспортироваться). 

Админ при входе видит Активированных пользователей.
| Статус |Логин | Пароль | IP адрес | E-mail | Тариф | Время активации | Осталось дней | Действия |
Фильтр, Активированные, Неактивированные, Все аккаунты. 
Редактировать, Приостанавливать блокировать аккаунт или Удалять любые аккаунты. 

-Устанавливать интервал в Секундах и Минутах, через который можно сделать второй запрос проверки списка IP, т.е. после первого запроса и полной проверки, кнопка "Проверить" становится неактивна и идёт отсчёт времени, по истечении которого кнопка опять становится активной 
т.е появляется надпись "Следующую проверку можно запустить через: (время идёт обратный отсчёт). 
Опционально, установить интервал времени Да/Нет, (при создании и генерации аккаунтов). 

-Опционально, Установить количество проверок, т.е. сколько можно делать проверок с аккаунта, вводится в поле. 
(если нет - без ограничений), то до полного удаления аккаунта.

-Устанавливать ограничение на количество загружаемых IP - ("0" или "Нет" - без ограничений). Если "Да", количество вводится в поле.
Если установлено ограничение, у пользователя появляется надпись "Вы можете загрузить не более .... IP адресов". (считывается из установленного числа).Соответственно пользователь может загрузить только разрешённое количество IP адресов.

-Возможность проверять только определённые (заданные админом) IP адреса, которые уже будут в отдельной базе.
Это действие может устанавливаться глобально для всех пользователей. "Проверять только заданный список IP"
Заданный список, может быть от 10000 до 100.000 и более, без дубликатов, каждый IP уникален.
Т.е. Админ загружает свой список IP адресов, проверяет его через (MaxMind) по городам и этот список хранится в отдельной БД, 
а пользователь в том случае, если установлено, что "Отфильтровать по заданному списку IP", сверяет фильтрует свой список только через эту БД. 

Если проверка предусматривает только по уже заданному админом списку, в панели пользователя отображается надпись: 
"Вы можете проверить и отфильтровать свой список IP адресов, только по базе заданного списка IP. Если Вам необходим расширенный вариант проверки IP адресов, обратитесь в техническую поддержку" 

**Загрузку IP админом можно сделать так же как и в задании (загрузка сайтов), дубли удаляются всегда, так же отчёт.

Список (который загрузил админ), с определившимися ИП адресами, сохраняется в базе, что бы каждый раз не напрягать хостинг или сервер.
Очистка загруженного списка администратором в ручном режиме. Возможность перепроверить загруженный список.


Л/К пользователя. 
Загрузка и фильтрация ИП адресов на стороне ПОЛЬЗОВАТЕЛЯ.

Пользователь кнопкой обзор выбирает файл, блокнот или csv. 
Так же должна быть надпись для пользователя, непосредственно рядом с загрузкой 
"Поддерживаемые расширения txt и csv. Загружать как IP:PORT"

Считывание только формата IP:PORT.
Пример:
125.205.4.21:1080
205.55.127.51:5247
78.36.118.28:287547
20.25.107.117:8085
48.25.124.210:8080
и.т.д
Если он отличается или загружается файл с другим расширением, выдаётся ошибка "Неподдерживаемый формат"

Если Админом ограничена загрузка по количеству IP, на стороне пользователя надпись, 
например, Вы можете загрузить не более 1000 IP адресов.

Пользователь загружает свой список, отображается информация, пример ниже: 

| Загрузить список IP:PORT | Загружено к-во | Удалено дублей | Проверить список |

выводится информация сколько загружено, далее кликает проверить список и его список (если установлено, проверка стандартного списка), то сверяется с тем, что уже есть (если нет) то начинается проверка, определение по стране через базу (MaxMind). Вывод информации в таблице 1, которая с левой стороны. Каждая страна в своей строке и количеством, а так же копирование и экспорт, пример приведён ниже. 

| Флаг страны и Название страны |  Количество | Копировать как IP:PORT | Экспорт - [txt] ]csv] |
| Флаг страны и Название страны |  Количество | Копировать как IP:PORT | Экспорт - [txt] ]csv] |
| Флаг страны и Название страны |  Количество | Копировать как IP:PORT | Экспорт - [txt] ]csv] |
| Флаг страны и Название страны |  Количество | Копировать как IP:PORT | Экспорт - [txt] ]csv] |

-Название страны на латинице.
-При экспорте в [txt] ]csv] - название документа считывается из названия страны. 

Кнопка "Копировать как IP:PORT" тёмно синего цвета, активна и при наведении чуть меняет цвет, 
после клика, меняет цвет на тёмно-зелёный и надпись на: "Скопировано в буфер обмена" и через 5 сек. 
опять возвращается в прежнее состояние.

У пользователя возможность очистить список одной кнопкой, при клике очистить, появляется окно, 
"Вы действительно хотите очистить список IP адресов?" Да/Нет. 

По умолчанию, очистка проверенного списка Пользователя, происходит автоматически через 50 минут, либо по Cron, либо устанавливается в config. Главное, что бы не накапливалась база на хостинге или сервере.

При клике по стране, отображается список городов с возможностью скопировать IP:PORT

